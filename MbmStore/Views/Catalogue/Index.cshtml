@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@using MbmStore.Infrastructure;
@using MbmStore.Models;
@model ProductsListViewModel
@*TagHelper til links*@
@{
	//Layout = "~/Views/Shared/_Layout.cshtml";
	ViewData["Title"] = "Catalogue";
}

@if (Model.Products.OfType<Book>().ToList().Count > 0)
{
	<div class="products" style="clear:both">
		<h2>Books</h2>
		@foreach (Book book in Model.Products.OfType<Book>().ToList())
		{
			@await Html.PartialAsync("_ProductSummaryBook", book)
		}
	</div>
}

@if (Model.Products.OfType<MusicCD>().ToList().Count > 0)
{
	<div class="products" style="clear:both">
		<h2>Music CDs</h2>
		@foreach (MusicCD musicCD in Model.Products.OfType<MusicCD>().ToList())
		{
			@await Html.PartialAsync("_ProductSummaryMusicCD", musicCD)
		}
	</div>
}

@if (Model.Products.OfType<Movie>().ToList().Count > 0)
{
	<div class="products" style="clear:both">
		<h2>Movies</h2>
		@foreach (Movie movie in Model.Products.OfType<Movie>().ToList())
		{
			@await Html.PartialAsync("_ProductSummaryMovie", movie)
		}
	</div>
}
<div page-model="@Model.PagingInfo" page-action="Index" page-classes-enabled="true"
	page-class="btn" page-class-normal="btn-secondary"
	page-class-selected="btn-primary" page-url-category="@Model.CurrentCategory"
	class="btn-group pul-right m-1">
</div>